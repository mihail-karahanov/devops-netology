# devops-netology

## 3.7. Компьютерные сети, лекция 2 - Михаил Караханов


**1. Проверьте список доступных сетевых интерфейсов на вашем компьютере. Какие команды есть для этого в Linux и в Windows?**
- Ответ:
  ```
  vagrant@vagrant:~$ ip -br link
  lo               UNKNOWN        00:00:00:00:00:00 <LOOPBACK,UP,LOWER_UP> 
  eth0             UP             08:00:27:73:60:cf <BROADCAST,MULTICAST,UP,LOWER_UP> 
  ```
  - Linux: `ifconfig`, `ip link`
  - Windows: `ipconfig` (CMD), `Get-NetAdapter` (PowerShell)

**2. Какой протокол используется для распознавания соседа по сетевому интерфейсу? Какой пакет и команды есть в Linux для этого?**
- Ответ: для этого, в основном, используется протокол LLDP. В Linux используется пакет `lldpd` с интерфейсом управления через команду `lldpctl`.

**3. Какая технология используется для разделения L2 коммутатора на несколько виртуальных сетей? Какой пакет и команды есть в Linux для этого? Приведите пример конфига.**
- Ответ: используется технология VLAN. Для Linux существует пакет `vlan` и команда `vconfig` для работы с ним. В современных Debian-based дистрибутивах, при запуске команды `vconfig`, выдается сообщение, что данная команда является устаревшей и будет удалена в будущем. Для работы с vlan следует использовать команду `ip link`. Чтобы изменения сохранились после перезагрузки, необходимо добавить конфигурацию VLAN в файл `/etc/network/interfaces`. Пример конфигурации для интерфейса `eth0` с PVID 105:
  ```
  auto eth0.105
  iface eth0.105 inet static
          address 172.20.1.1
          netmask 255.255.255.0
          vlan_raw_device eth0
  ```

**4. Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки? Приведите пример конфига.**

**5. Сколько IP адресов в сети с маской /29 ? Сколько /29 подсетей можно получить из сети с маской /24. Приведите несколько примеров /29 подсетей внутри сети 10.10.10.0/24.**
- Ответ:
  - в сети с маской /29 `(2^3 - 2) = 6` доступных для использования IP-адресов (всего 8, минус адрес сети и минус широковещательный адрес сети)
  - из сети с маской /24 можно получить `(256 / 8) = 32` сети с маской /29
  - `10.10.10.16/29`, `10.10.10.48/29`, `10.10.10.224/29`, `10.10.10.96/29`

**6. Задача: вас попросили организовать стык между 2-мя организациями. Диапазоны 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16 уже заняты. Из какой подсети допустимо взять частные IP адреса? Маску выберите из расчета максимум 40-50 хостов внутри подсети.**
- Ответ: можно использовать адреса из подсети `100.64.0.0/10` для CG-NAT. Для сети на максимум 40-50 хостов подойдет подсеть с маской /26, например `100.70.0.0/26`.

**7. Как проверить ARP таблицу в Linux, Windows? Как очистить ARP кеш полностью? Как из ARP таблицы удалить только один нужный IP?**
- Ответ:
  - Linux: проверка таблицы командами `arp`, `ip neigh`. Полная очистка кэша - `sudo ip neigh flush all`, `arp -d *`. Удаление только нужного IP - `sudo ip neigh del ADDR dev DEVICE`, `arp -d ADDR`.
  - Windows: проверка таблицы командой `arp -a`. Полная очистка кэша - `arp -d *`. Удаление только нужного IP - `arp -d ADDR`.